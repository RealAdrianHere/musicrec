<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Echoes of Mood - 基于海量歌词数据的情绪计算与智能推荐系统">
    <meta name="keywords" content="音乐推荐,情绪推荐,歌词推荐,智能推荐">
    <title>Echoes of Mood - 情绪共鸣音乐推荐</title>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reset.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/layout.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}">
</head>
<body>
    <div class="container">
        <div id="particles-js"></div>
        
        <nav class="navbar">
            <div class="navbar-container">
                <div class="logo-section">
                    <h1 class="logo">Echoes of Mood</h1>
                    <p class="logo-subtitle">情绪共鸣 · 音乐推荐</p>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#discover" class="nav-link active" data-section="discover">
                            <span class="nav-icon">🎵</span>
                            <span class="nav-text">发现音乐</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#mood-recommendation" class="nav-link" data-section="mood-recommendation">
                            <span class="nav-icon">😊</span>
                            <span class="nav-text">情绪推荐</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#profile" class="nav-link" data-section="profile">
                            <span class="nav-icon">👤</span>
                            <span class="nav-text">个人中心</span>
                        </a>
                    </li>
                </ul>
                <div class="navbar-actions">
                    <div class="platform-selector-wrapper">
                        <button class="platform-toggle" id="platform-toggle" title="选择音乐平台">
                            <span class="platform-current-icon">🎵</span>
                            <span class="platform-current-name">网易云音乐</span>
                            <span class="toggle-arrow">▼</span>
                        </button>
                        <div class="platform-dropdown" id="platform-dropdown">
                            <div class="platform-list">
                                <button class="platform-option" data-platform="NETEASE" data-name="网易云音乐" data-icon="🎵">
                                    <span class="option-icon">🎵</span>
                                    <span class="option-name">网易云音乐</span>
                                    <span class="option-check">✓</span>
                                </button>
                                <button class="platform-option" data-platform="QQ" data-name="QQ音乐" data-icon="🎶">
                                    <span class="option-icon">🎶</span>
                                    <span class="option-name">QQ音乐</span>
                                    <span class="option-check">✓</span>
                                </button>
                                <button class="platform-option" data-platform="KUGOU" data-name="酷狗音乐" data-icon="🐕">
                                    <span class="option-icon">🐕</span>
                                    <span class="option-name">酷狗音乐</span>
                                    <span class="option-check">✓</span>
                                </button>
                                <button class="platform-option" data-platform="KUWO" data-name="酷我音乐" data-icon="🎸">
                                    <span class="option-icon">🎸</span>
                                    <span class="option-name">酷我音乐</span>
                                    <span class="option-check">✓</span>
                                </button>
                                <button class="platform-option" data-platform="APPLE" data-name="Apple Music" data-icon="🍎">
                                    <span class="option-icon">🍎</span>
                                    <span class="option-name">Apple Music</span>
                                    <span class="option-check">✓</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <button class="jump-btn" id="jump-btn" title="跳转到音乐平台">
                        <span class="jump-icon">🔗</span>
                        <span class="jump-text">跳转</span>
                    </button>
                </div>
            </div>
        </nav>
        
        <main class="main-content">
            <section id="discover" class="section active">
                <h2 class="section-title">发现音乐</h2>
                <div class="discover-content">
                    <div class="featured-section">
                        <h3 class="section-subtitle">热门推荐</h3>
                        <div class="featured-grid">
                        </div>
                    </div>
                    <div class="categories-section">
                        <h3 class="section-subtitle">音乐分类</h3>
                        <div class="categories-grid">
                            <div class="category-card">
                                <span class="category-icon">🎸</span>
                                <h4 class="category-name">摇滚</h4>
                                <p class="category-desc">释放内心的激情</p>
                            </div>
                            <div class="category-card">
                                <span class="category-icon">🎹</span>
                                <h4 class="category-name">古典</h4>
                                <p class="category-desc">感受优雅与深度</p>
                            </div>
                            <div class="category-card">
                                <span class="category-icon">🎤</span>
                                <h4 class="category-name">流行</h4>
                                <p class="category-desc">聆听时代的声音</p>
                            </div>
                            <div class="category-card">
                                <span class="category-icon">🎧</span>
                                <h4 class="category-name">电子</h4>
                                <p class="category-desc">沉浸在节奏中</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="mood-recommendation" class="section">
                <h2 class="section-title">情绪推荐</h2>
                <div class="mood-content">
                    <div class="input-section">
                        <textarea 
                            id="text-input" 
                            class="text-input" 
                            placeholder="在这里写下你的心情...\n比如：今天阳光很好，却感到莫名的孤独"
                            rows="6"
                        ></textarea>
                        <div class="input-footer">
                            <span id="char-count" class="char-count">0/500</span>
                            <button id="submit-btn" class="btn btn-primary">
                                <span class="btn-text">寻找共鸣</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="results-section">
                        <div id="loading" class="loading hidden">
                            <div class="spinner"></div>
                            <p>正在寻找与你共鸣的歌曲...</p>
                        </div>
                        
                        <div id="results" class="results">
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="profile" class="section">
                <h2 class="section-title">个人中心</h2>
                <div class="profile-content">
                    <div class="user-info">
                        <div class="avatar">
                            <span class="avatar-icon">👤</span>
                        </div>
                        <div class="user-details">
                            <h3 class="username">音乐爱好者</h3>
                            <p class="user-stats">已听歌曲 <span id="total-songs">0</span> · 收藏 <span id="fav-songs">0</span></p>
                        </div>
                    </div>
                    
                    <div class="history-section">
                        <h3 class="section-subtitle">历史记录</h3>
                        <div id="history-list" class="history-list">
                            <p class="empty-state">暂无历史记录</p>
                        </div>
                    </div>
                    
                    <div class="favorites-section">
                        <h3 class="section-subtitle">收藏歌曲</h3>
                        <div id="favorites-list" class="favorites-list">
                            <p class="empty-state">暂无收藏歌曲</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <footer class="footer">
            <p>基于 BGE 模型的情绪音乐推荐系统</p>
        </footer>
    </div>
    
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="{{ url_for('static', filename='js/core/config.js') }}"></script>
    <script src="{{ url_for('static', filename='js/core/constants.js') }}"></script>
    <script src="{{ url_for('static', filename='js/core/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/particles.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/navigation.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/platform-selector.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/recommendation.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/favorites.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/history.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/categories.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ui/notification.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ui/loading.js') }}"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            App.init();
            App.loadFeaturedSongs();
        });
    </script>
</body>
</html>
